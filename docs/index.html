<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Auth0 Nuxt</title><meta name="description" content="Documentation for Auth0 Nuxt"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Auth0 Nuxt</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Auth0 Nuxt</h1></div><div class="tsd-panel tsd-typography"><p><img src="media/banner.png" alt="Auth0-Nuxt"></p>
<p>The Auth0 Nuxt SDK is a library for implementing user authentication in Nuxt applications.</p>
<blockquote>
<p>:warning: Please be aware that auth0-nuxt is currently in <a href="https://auth0.com/docs/troubleshoot/product-lifecycle/product-release-stages"><strong>Beta</strong></a>. Whilst we encourage you to test the update within your applications, we do no recommend using this version in production yet.
As with any beta release, we look forward to your questions and feedback to help us improve the library.</p>
</blockquote>
<p><img src="https://img.shields.io/badge/stage-fa-yellow" alt="Stage: Beta Release">
<img src="https://img.shields.io/npm/v/@auth0/auth0-nuxt" alt="Release">
<img src="https://img.shields.io/npm/dw/@auth0/auth0-nuxt" alt="Downloads">
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/:license-mit-blue.svg?style=flat" alt="License"></a></p>
<p>ðŸ“š <a href="#documentation">Documentation</a> - ðŸš€ <a href="#getting-started">Getting Started</a> - ðŸ’¬ <a href="#feedback">Feedback</a></p>
<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/auth0/auth0-nuxt/blob/main/packages/auth0-nuxt/EXAMPLES.md">Examples</a> - examples for your different use cases.</li>
<li><a href="https://auth0.com/docs">Docs Site</a> - explore our docs site and learn more about Auth0.</li>
</ul>
<h2 id="getting-started" class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="1-install-the-sdk" class="tsd-anchor-link">1. Install the SDK<a href="#1-install-the-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@auth0/auth0-nuxt@beta</span>
</code><button type="button">Copy</button></pre>

<p>This library requires Node.js 20 LTS and newer LTS versions.</p>
<h3 id="2-register-the-auth0-nuxt-module" class="tsd-anchor-link">2. Register the Auth0 Nuxt Module<a href="#2-register-the-auth0-nuxt-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The Auth0 Nuxt module is registered in the <code>nuxt.config.js</code> file, together with the runtime configuration.</p>
<pre><code class="js"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">modules</span><span class="hl-1">: [</span><span class="hl-2">&#39;@auth0/auth0-nuxt&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-3">runtimeConfig</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">auth0</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-3">domain</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_DOMAIN&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_DOMAIN environment variable</span><br/><span class="hl-1">      </span><span class="hl-3">clientId</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_CLIENT_ID&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_CLIENT_ID environment variable</span><br/><span class="hl-1">      </span><span class="hl-3">clientSecret</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_CLIENT_SECRET&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_CLIENT_SECRET environment variable</span><br/><span class="hl-1">      </span><span class="hl-3">sessionSecret</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;SESSION_SECRET&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_SESSION_SECRET environment variable</span><br/><span class="hl-1">      </span><span class="hl-3">appBaseUrl</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;APP_BASE_URL&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_APP_BASE_URL environment variable</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The <code>AUTH0_DOMAIN</code>, <code>AUTH0_CLIENT_ID</code>, and <code>AUTH0_CLIENT_SECRET</code> can be obtained from the Auth0 Dashboard once you've created an application. This application must be a Regular Web Application.</p>
<p>The <code>SESSION_SECRET</code> is the key used to encrypt the session cookie. You can generate a secret using openssl:</p>
<pre><code class="bash"><span class="hl-0">openssl</span><span class="hl-1"> </span><span class="hl-2">rand</span><span class="hl-1"> </span><span class="hl-5">-hex</span><span class="hl-1"> </span><span class="hl-6">64</span>
</code><button type="button">Copy</button></pre>

<p>The <code>APP_BASE_URL</code> is the URL that your application is running on. When developing locally, this is most commonly <a href="http://localhost:3000">http://localhost:3000</a>.</p>
<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p><br>
You will need to register the following URLs in your Auth0 Application via the <a href="https://manage.auth0.com">Auth0 Dashboard</a>:</p>
<ul>
<li>Add <code>http://localhost:3000/auth/callback</code> to the list of <strong>Allowed Callback URLs</strong></li>
<li>Add <code>http://localhost:3000</code> to the list of <strong>Allowed Logout URLs</strong></li>
</ul>
</div>
<h4 id="routes" class="tsd-anchor-link">Routes<a href="#routes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The SDK for Nuxt Web Applications mounts 4 main routes:</p>
<ol>
<li><code>/auth/login</code>: the login route that the user will be redirected to to initiate an authentication transaction. Supports adding a <code>returnTo</code> querystring parameter to return to a specific URL after login.</li>
<li><code>/auth/logout</code>: the logout route that must be added to your Auth0 application's Allowed Logout URLs</li>
<li><code>/auth/callback</code>: the callback route that must be added to your Auth0 application's Allowed Callback URLs</li>
<li><code>/auth/backchannel-logout</code>: the route that will receive a <code>logout_token</code> when a configured <a href="https://auth0.com/docs/authenticate/login/logout/back-channel-logout">Back-Channel Logout</a> initiator occurs</li>
</ol>
<p>To disable this behavior, you can set the <code>mountRoutes</code> option to <code>false</code> when registering the module (it's true by default):</p>
<pre><code class="ts"><span class="hl-3">modules</span><span class="hl-1">: [[</span><span class="hl-2">&#39;@auth0/auth0-nuxt&#39;</span><span class="hl-1">, { </span><span class="hl-7">mountRoutes:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1"> }]]</span>
</code><button type="button">Copy</button></pre>

<p>Alternatively, if you wish to change the endpoint paths used for mounting, you can specify the <code>routes</code> option:</p>
<pre><code class="ts"><span class="hl-3">modules</span><span class="hl-1">: [[</span><span class="hl-2">&#39;@auth0/auth0-nuxt&#39;</span><span class="hl-1">, { </span><br/><span class="hl-1">  </span><span class="hl-7">routes:</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-7">login:</span><span class="hl-1"> </span><span class="hl-2">&#39;/custom-auth/login&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">logout:</span><span class="hl-1"> </span><span class="hl-2">&#39;/custom-auth/logout&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">callback:</span><span class="hl-1"> </span><span class="hl-2">&#39;/custom-auth/callback&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">backchannelLogout:</span><span class="hl-1"> </span><span class="hl-2">&#39;/custom-auth/backchannel-logout&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}]]</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-adding-login-and-logout" class="tsd-anchor-link">3. Adding Login and Logout<a href="#3-adding-login-and-logout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When using the built-in mounted routes, the user can be redirected to <code>/auth/login</code> to initiate the login flow and <code>/auth/logout</code> to log out.</p>
<pre><code class="html"><span class="hl-8">&lt;</span><span class="hl-9">a</span><span class="hl-1"> </span><span class="hl-10">href</span><span class="hl-1">=</span><span class="hl-11">&quot;/auth/logout&quot;</span><span class="hl-8">&gt;</span><span class="hl-1">Log out</span><span class="hl-8">&lt;/</span><span class="hl-9">a</span><span class="hl-8">&gt;</span><br/><span class="hl-8">&lt;</span><span class="hl-9">a</span><span class="hl-1"> </span><span class="hl-10">href</span><span class="hl-1">=</span><span class="hl-11">&quot;/auth/login&quot;</span><span class="hl-8">&gt;</span><span class="hl-1">Log in</span><span class="hl-8">&lt;/</span><span class="hl-9">a</span><span class="hl-8">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>When needed, you can also pass a <code>returnTo</code> querystring parameter to the login route to redirect the user back to a specific URL after login was successful.</p>
<p>When not using the built-in routes, you want to call the SDK's <code>startInteractiveLogin()</code>, <code>completeInteractiveLogin()</code> and <code>logout()</code> methods through the <code>useAuth0()</code> composable, which is available in the server-side context of your Nuxt application.:</p>
<pre><code class="ts"><span class="hl-4">// server/routes/auth/login.js</span><br/><span class="hl-12">export</span><span class="hl-1"> </span><span class="hl-12">default</span><span class="hl-1"> </span><span class="hl-0">defineEventHandler</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-7">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">auth0Client</span><span class="hl-1"> = </span><span class="hl-0">useAuth0</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">authorizationUrl</span><span class="hl-1"> = </span><span class="hl-12">await</span><span class="hl-1"> </span><span class="hl-7">auth0Client</span><span class="hl-1">.</span><span class="hl-0">startInteractiveLogin</span><span class="hl-1">(</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-7">authorizationParams:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">// Custom URL to redirect back to after login to handle the callback.</span><br/><span class="hl-1">        </span><span class="hl-4">// Make sure to configure the URL in the Auth0 Dashboard as an Allowed Callback URL.</span><br/><span class="hl-1">        </span><span class="hl-7">redirect_uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://localhost:3000/auth/callback&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-0">sendRedirect</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">, </span><span class="hl-7">authorizationUrl</span><span class="hl-1">.</span><span class="hl-7">href</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// server/routes/auth/callback.js</span><br/><span class="hl-12">export</span><span class="hl-1"> </span><span class="hl-12">default</span><span class="hl-1"> </span><span class="hl-0">defineEventHandler</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-7">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">auth0Client</span><span class="hl-1"> = </span><span class="hl-0">useAuth0</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-12">await</span><span class="hl-1"> </span><span class="hl-7">auth0Client</span><span class="hl-1">.</span><span class="hl-0">completeInteractiveLogin</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">URL</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">.</span><span class="hl-7">node</span><span class="hl-1">.</span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">url</span><span class="hl-1"> </span><span class="hl-12">as</span><span class="hl-1"> </span><span class="hl-14">string</span><span class="hl-1">, </span><span class="hl-2">&#39;http://localhost:3000&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-0">sendRedirect</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">, </span><span class="hl-2">&#39;https://localhost:3000&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// server/routes/auth/logout.js</span><br/><span class="hl-12">export</span><span class="hl-1"> </span><span class="hl-12">default</span><span class="hl-1"> </span><span class="hl-0">defineEventHandler</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-7">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">auth0Client</span><span class="hl-1"> = </span><span class="hl-0">useAuth0</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">returnTo</span><span class="hl-1"> = </span><span class="hl-2">&#39;https://localhost:3000&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">logoutUrl</span><span class="hl-1"> = </span><span class="hl-12">await</span><span class="hl-1"> </span><span class="hl-7">auth0Client</span><span class="hl-1">.</span><span class="hl-0">logout</span><span class="hl-1">(</span><br/><span class="hl-1">    { </span><span class="hl-7">returnTo:</span><span class="hl-1"> </span><span class="hl-7">returnTo</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">() }</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-0">sendRedirect</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">, </span><span class="hl-7">logoutUrl</span><span class="hl-1">.</span><span class="hl-7">href</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>With those in place, you will be able to call <code>auth/login</code> and <code>auth/logout</code> to log the user in and out of your application.</p>
<h3 id="4-protecting-routes" class="tsd-anchor-link">4. Protecting Routes<a href="#4-protecting-routes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="41-route-middlware" class="tsd-anchor-link">4.1 Route Middlware<a href="#41-route-middlware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>In order to protect a Nuxt route, you can use the SDK's <code>useUser()</code> composable method in a custom route middleware. This will check if there is a user and redirect them to the login page if not:</p>
<pre><code class="ts"><span class="hl-4">// middleware/auth.ts</span><br/><span class="hl-12">import</span><span class="hl-1"> { </span><span class="hl-7">useUser</span><span class="hl-1"> } </span><span class="hl-12">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@auth0/auth0-nuxt&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-12">export</span><span class="hl-1"> </span><span class="hl-12">default</span><span class="hl-1"> </span><span class="hl-0">defineNuxtRouteMiddleware</span><span class="hl-1">((</span><span class="hl-7">to</span><span class="hl-1">, </span><span class="hl-7">from</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">session</span><span class="hl-1"> = </span><span class="hl-0">useUser</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-12">if</span><span class="hl-1"> (!</span><span class="hl-7">session</span><span class="hl-1">.</span><span class="hl-7">value</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-12">return</span><span class="hl-1"> </span><span class="hl-0">navigateTo</span><span class="hl-1">(</span><span class="hl-2">`/auth/login?returnTo=</span><span class="hl-5">${</span><span class="hl-7">to</span><span class="hl-15">.</span><span class="hl-7">path</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>[!INFORMATION]<br>
You can replace the check above with any check you want, such as checking for a specific user claim.</p>
</blockquote>
<p>With that middleware in place, you can protect routes by adding it to the <code>middleware</code> property of the corresponding Nuxt route:</p>
<pre><code class="html"><span class="hl-8">&lt;</span><span class="hl-9">script</span><span class="hl-15"> </span><span class="hl-10">setup</span><span class="hl-8">&gt;</span><br/><span class="hl-0">definePageMeta</span><span class="hl-15">({</span><br/><span class="hl-15">  </span><span class="hl-7">middleware:</span><span class="hl-15"> [ </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-15"> ],</span><br/><span class="hl-15">});</span><br/><span class="hl-8">&lt;/</span><span class="hl-9">script</span><span class="hl-8">&gt;</span>
</code><button type="button">Copy</button></pre>

<h4 id="42-server-middleware" class="tsd-anchor-link">4.2 Server Middleware<a href="#42-server-middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Additionally, you can also use a server middleware to protect server-side rendered routes by using the <code>useAuth0</code> server-side composable. This middleware will check if the user is authenticated and redirect them to the login page if they are not:</p>
<pre><code class="ts"><span class="hl-4">// server/middleware/auth.ts</span><br/><span class="hl-12">export</span><span class="hl-1"> </span><span class="hl-12">default</span><span class="hl-1"> </span><span class="hl-0">defineEventHandler</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-7">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">url</span><span class="hl-1"> = </span><span class="hl-0">getRequestURL</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-12">if</span><span class="hl-1"> (</span><span class="hl-7">url</span><span class="hl-1">.</span><span class="hl-7">pathname</span><span class="hl-1"> === </span><span class="hl-2">&#39;/private&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">auth0Client</span><span class="hl-1"> = </span><span class="hl-0">useAuth0</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">session</span><span class="hl-1"> = </span><span class="hl-12">await</span><span class="hl-1"> </span><span class="hl-7">auth0Client</span><span class="hl-1">.</span><span class="hl-0">getSession</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-12">if</span><span class="hl-1"> (!</span><span class="hl-7">session</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-12">return</span><span class="hl-1"> </span><span class="hl-0">sendRedirect</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">, </span><span class="hl-2">`/auth/login?returnTo=</span><span class="hl-5">${</span><span class="hl-7">url</span><span class="hl-15">.</span><span class="hl-7">pathname</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p><br>
The above examples are both to protect routes by the means of a session, and not API routes using a bearer token.</p>
</div>
<h3 id="5-requesting-an-access-token-to-call-an-api" class="tsd-anchor-link">5. Requesting an Access Token to call an API<a href="#5-requesting-an-access-token-to-call-an-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you need to call an API on behalf of the user, you want to specify the <code>audience</code> parameter when registering the plugin. This will make the SDK request an access token for the specified audience when the user logs in.</p>
<pre><code class="ts"><span class="hl-3">runtimeConfig</span><span class="hl-1">: {</span><br/><span class="hl-1">  </span><span class="hl-3">auth0</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">domain</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_DOMAIN&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_DOMAIN environment variable</span><br/><span class="hl-1">    </span><span class="hl-3">clientId</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_CLIENT_ID&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_CLIENT_ID environment variable</span><br/><span class="hl-1">    </span><span class="hl-3">clientSecret</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_CLIENT_SECRET&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_CLIENT_SECRET environment variable</span><br/><span class="hl-1">    </span><span class="hl-3">sessionSecret</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;SESSION_SECRET&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_SESSION_SECRET environment variable</span><br/><span class="hl-1">    </span><span class="hl-3">appBaseUrl</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;APP_BASE_URL&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_APP_BASE_URL environment variable</span><br/><span class="hl-1">    </span><span class="hl-3">audience</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;AUTH0_AUDIENCE&gt;&#39;</span><span class="hl-1">, </span><span class="hl-4">// is overridden by NUXT_AUTH0_AUDIENCE environment variable</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The <code>AUTH0_AUDIENCE</code> is the identifier of the API you want to call. You can find this in the API section of the Auth0 dashboard.</p>
<p>Retrieving the token can be achieved by using <code>getAccessToken</code> using the server-side composable <code>useAuth0</code>:</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">auth0Client</span><span class="hl-1"> = </span><span class="hl-0">useAuth0</span><span class="hl-1">(</span><span class="hl-7">event</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-13">accessTokenResult</span><span class="hl-1"> = </span><span class="hl-12">await</span><span class="hl-1"> </span><span class="hl-7">auth0Client</span><span class="hl-1">.</span><span class="hl-0">getAccessToken</span><span class="hl-1">();</span><br/><span class="hl-4">// You can now use `accessTokenResult.accessToken`</span>
</code><button type="button">Copy</button></pre>

<h2 id="feedback" class="tsd-anchor-link">Feedback<a href="#feedback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We appreciate feedback and contribution to this repo! Before you get started, please read the following:</p>
<ul>
<li><a href="https://github.com/auth0/open-source-template/blob/master/GENERAL-CONTRIBUTING.md">Auth0's general contribution guidelines</a></li>
<li><a href="https://github.com/auth0/open-source-template/blob/master/CODE-OF-CONDUCT.md">Auth0's code of conduct guidelines</a></li>
</ul>
<h3 id="raise-an-issue" class="tsd-anchor-link">Raise an issue<a href="#raise-an-issue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To provide feedback or report a bug, please <a href="https://github.com/auth0/auth0-nuxt/issues">raise an issue on our issue tracker</a>.</p>
<h2 id="vulnerability-reporting" class="tsd-anchor-link">Vulnerability Reporting<a href="#vulnerability-reporting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please do not report security vulnerabilities on the public GitHub issue tracker. The <a href="https://auth0.com/responsible-disclosure-policy">Responsible Disclosure Program</a> details the procedure for disclosing security issues.</p>
<h2 id="what-is-auth0" class="tsd-anchor-link">What is Auth0?<a href="#what-is-auth0" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p align="center">
  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="https://cdn.auth0.com/website/sdks/logos/auth0_dark_mode.png" width="150">
    <source media="(prefers-color-scheme: light)" srcset="https://cdn.auth0.com/website/sdks/logos/auth0_light_mode.png" width="150">
    <img alt="Auth0 Logo" src="https://cdn.auth0.com/website/sdks/logos/auth0_light_mode.png" width="150">
  </picture>
</p>
<p align="center">
  Auth0 is an easy to implement, adaptable authentication and authorization platform. To learn more checkout <a href="https://auth0.com/why-auth0">Why Auth0?</a>
</p>
<p align="center">
  This project is licensed under the MIT license. See the <a href="https://github.com/auth0/auth0-nuxt/blob/main/packages/auth0-nuxt/LICENSE"> LICENSE</a> file for more info.
</p></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#documentation"><span>Documentation</span></a><a href="#getting-started"><span>Getting <wbr/>Started</span></a><ul><li><a href="#1-install-the-sdk"><span>1. <wbr/>Install the <wbr/>SDK</span></a></li><li><a href="#2-register-the-auth0-nuxt-module"><span>2. <wbr/>Register the <wbr/>Auth0 <wbr/>Nuxt <wbr/>Module</span></a></li><li><ul><li><a href="#routes"><span>Routes</span></a></li></ul></li><li><a href="#3-adding-login-and-logout"><span>3. <wbr/>Adding <wbr/>Login and <wbr/>Logout</span></a></li><li><a href="#4-protecting-routes"><span>4. <wbr/>Protecting <wbr/>Routes</span></a></li><li><ul><li><a href="#41-route-middlware"><span>4.1 <wbr/>Route <wbr/>Middlware</span></a></li><li><a href="#42-server-middleware"><span>4.2 <wbr/>Server <wbr/>Middleware</span></a></li></ul></li><li><a href="#5-requesting-an-access-token-to-call-an-api"><span>5. <wbr/>Requesting an <wbr/>Access <wbr/>Token to call an <wbr/>API</span></a></li></ul><a href="#feedback"><span>Feedback</span></a><ul><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#raise-an-issue"><span>Raise an issue</span></a></li></ul><a href="#vulnerability-reporting"><span>Vulnerability <wbr/>Reporting</span></a><a href="#what-is-auth0"><span>What is <wbr/>Auth0?</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Auth0 Nuxt</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
